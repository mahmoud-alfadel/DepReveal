Dependency Threat
=================
[![GitHub license](https://img.shields.io/github/license/Naereen/StrapDown.js.svg)](https://github.com/Naereen/StrapDown.js/blob/master/LICENSE)
![](https://badgen.net/badge/version/v1.0.0/red)
![](https://badgen.net/badge/python/3.5|3.6|3.7/blue)
![](https://badgen.net/badge/PRs/Welcome/green)
   
A Command-Line tool to analyze the threat of npm dependency vulnerabilities through the history of your GitHub application.


CONCEPT
---------------------------------------------------------------------
The workflow of the Dependency Threat tool goes as follows:

* Fetch the history of the package.json file.
* Resolve dependency versions.
* Identify and classify the threat of dependency versions (based on the approach in this [study](https://arxiv.org/abs/2009.09019)).
* Generates a report as a CSV file that contains the analysis and HTML file that visualizes the report.


INSTALLATION
-----------------------
Dependency Threat is developed and tested mainly on GNU/Linux and Mac platforms. Thus it is very likely it will work out of the box
on any Linux-like and Mac platforms upon providing the right requirements and version of Python.

**To install**, simply run:
```
pip3 install git+"https://github.com/mahmoud-alfadel/DependencyThreat"
```

USAGE
-----------
To understand the commands used by the tool, please run the following:
```
dependency_threat --help
```

EXAMPLE
-----------
To help you use the tool, we show below an example of running the tool on a popular Node.js application called Wiki.js. We assume that the tool is already installed. We use the following command to run the tool:
```
dependency_threat -o report.csv -a c1efcdxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  https://github.com/Requarks/wiki
```
The previous command uses the three arguments:
* The first argument (optional) is the name & path of the output CSV file. By default, it will save in the current folder.
* The second argument (required) is Github Access Token; it is required to fetch the history of the package.json file in your repository. Please use your own GitHub token. See https://github.com/settings/tokens.
* The URL of the GitHub repository.


TOOL OUTPUT
-----------
The tool output  in the CLI looks like the following:

![alt text](https://github.com/mahmoud-alfadel/Figure/blob/main/Fig2.png)


GENERATED REPORTS
-----------
The tool generates two files: 
* CSV file that contains all the details of the threat levels of dependencies in the project.
* HTML file that visualizes some of the reported figures in the CSV file concerning threat levels of dependencies. The HTML file is generated by default even if the output CSV file argument is not set. A snapshot of the generated HTML report for the Wiki.js project can be seen below:
<embed src="https://github.com/mahmoud-alfadel/Vagrant-Tool-Demo/blob/master/report.html" type="application/html">

![alt text](https://github.com/mahmoud-alfadel/Figure/blob/main/report.png)


---
**LICENSE**
-----------
Released under the [MIT License](https://opensource.org/licenses/mit-license.php).

